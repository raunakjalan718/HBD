<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=3.0">
    <title>Happy Birthday Udita!</title>
    <meta name="description" content="A magical birthday celebration website for Udita with slideshow, music, and interactive animations">
    <meta name="theme-color" content="#F29CB8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&family=Dancing+Script:wght@400;500;600;700&family=Fredoka+One:wght@400&display=swap" rel="stylesheet">
    
    <!-- Critical CSS Inline to Fix Loading Issues -->
    <style>
        /* CRITICAL ZOOM FIX FOR VERCEL AND MOBILE */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        html {
            font-size: 16px !important;
            -webkit-text-size-adjust: 100% !important;
            -ms-text-size-adjust: 100% !important;
            text-size-adjust: 100% !important;
            zoom: 1 !important;
            transform: none !important;
            overflow-x: hidden;
        }

        body {
            font-family: 'Poppins', -apple-system, BlinkMacSystemFont, sans-serif;
            overflow: hidden;
            margin: 0;
            padding: 0;
            cursor: none;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            -webkit-overflow-scrolling: touch;
            overscroll-behavior: none;
            width: 100vw !important;
            height: 100vh !important;
            position: relative;
            transform: none !important;
            zoom: 1 !important;
            min-width: 320px;
            font-size: 16px !important;
        }

        .loading-container,
        .question-container,
        .response-container,
        .main-container {
            width: 100vw !important;
            height: 100vh !important;
            position: fixed;
            top: 0;
            left: 0;
            transform: none !important;
            zoom: 1 !important;
            font-size: 16px !important;
            background: linear-gradient(180deg, 
                #FFFFFF 0%,
                #FEF7F9 20%,
                #FDEEF2 35%,
                #FCE4EC 50%,
                #F8BBD9 70%,
                #F48FB1 85%,
                #F29CB8 100%
            );
        }

        .loading-container {
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            backdrop-filter: blur(2px);
            transition: all 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            padding: 20px;
        }

        .question-container {
            display: none;
            justify-content: center;
            align-items: center;
            font-family: 'Poppins', sans-serif;
            overflow: hidden;
            opacity: 0;
            transform: translateY(50px) scale(0.9);
            transition: all 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            padding: 20px;
        }

        .response-container {
            display: none;
            justify-content: center;
            align-items: center;
            font-family: 'Poppins', sans-serif;
            overflow: hidden;
            padding: 20px;
        }

        .main-container {
            display: none;
            font-family: 'Poppins', sans-serif;
            color: #2C2C2C;
            overflow-y: auto;
            overflow-x: hidden;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
        }

        /* Basic styling for immediate display */
        .loader {
            text-align: center;
            width: 100%;
            max-width: 450px;
            padding: 60px;
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(30px);
            border-radius: 40px;
            border: 2px solid rgba(255, 255, 255, 0.4);
            box-shadow: 0 30px 60px rgba(242, 156, 184, 0.3);
        }

        .loading-title {
            font-family: 'Dancing Script', cursive;
            font-size: 32px;
            font-weight: 600;
            margin-bottom: 30px;
            color: #880E4F;
            letter-spacing: 1px;
            text-shadow: 0 2px 10px rgba(255, 255, 255, 0.5);
        }

        button {
            padding: 20px 30px;
            border: none;
            border-radius: 35px;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
            min-width: 180px;
            height: 70px;
            background: rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(25px);
            border: 2px solid rgba(255, 255, 255, 0.6);
            box-shadow: 0 15px 45px rgba(242, 156, 184, 0.3);
            color: #880E4F;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            position: relative;
            overflow: hidden;
            text-align: center;
            line-height: 1.2;
            min-height: 48px;
        }

        button:hover,
        button:active {
            transform: translateY(-4px) scale(1.02);
            background: rgba(255, 255, 255, 0.6);
            box-shadow: 0 20px 50px rgba(242, 156, 184, 0.4);
            border-color: rgba(255, 255, 255, 0.8);
        }

        /* Mobile optimizations */
        @media screen and (max-width: 768px) {
            html { font-size: 14px !important; }
            button {
                min-height: 48px !important;
                min-width: 48px !important;
                padding: 12px 20px !important;
                font-size: 16px !important;
            }
        }

        @media screen and (max-width: 480px) {
            html { font-size: 13px !important; }
            .loading-title { font-size: 24px !important; }
            .loader { padding: 40px 20px !important; }
        }
    </style>
    
    <!-- External CSS Files -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/animations.css">
</head>
<body>
    <!-- Background Music -->
    <audio id="bgm" loop preload="none">
        <source src="assets/bgm.mp3" type="audio/mpeg">
    </audio>

    <!-- Song Audio -->
    <audio id="song-audio" preload="none">
        <source src="assets/music.mp3" type="audio/mpeg">
    </audio>

    <!-- Heart Cursor Trail Container -->
    <div id="heart-trail-container"></div>

    <!-- Loading Screen (NO CONFETTI) -->
    <div class="loading-container" id="loading-screen">
        <div class="loader">
            <div class="loading-circle">
                <div class="circle-inner"></div>
            </div>
            <h2 class="loading-title">Preparing something magical...</h2>
            <div class="loading-jokes">
                <span class="joke active">üéÇ Baking the most amazing virtual cake...</span>
                <span class="joke">üéà Inflating rainbow balloons...</span>
                <span class="joke">üéâ Adding extra sparkly confetti...</span>
                <span class="joke">‚ú® Sprinkling birthday magic dust...</span>
                <span class="joke">ü¶Ñ Summoning birthday unicorns...</span>
            </div>
            <div class="loading-dots">
                <span class="dot"></span>
                <span class="dot"></span>
                <span class="dot"></span>
            </div>
        </div>
    </div>

    <!-- Question Screen (NO CONFETTI) -->
    <div class="question-container" id="question-screen">
        <div class="question-content">
            <div class="question-emoji">ü§î</div>
            <h1 class="question-title">Hold up there, cutie!</h1>
            <h2 class="main-question">Is it your birthday today?</h2>
            <p class="question-subtitle">Don't you dare lie to me! I have my ways of knowing... üëÄ</p>
            
            <div class="answer-buttons">
                <button class="answer-btn" onclick="handleAnswer('yes')" aria-label="Yes, it's my birthday">
                    üéâ Yes, it's my special day!
                </button>
                <button class="answer-btn" onclick="handleAnswer('no')" aria-label="No, it's not my birthday">
                    üòÖ Nope, not today...
                </button>
            </div>
            
            <div class="suspicious-eyes">üëÅÔ∏èüëÅÔ∏è</div>
        </div>
    </div>

    <!-- Response Screen (MASSIVE CONFETTI AFTER YES/NO) -->
    <div class="response-container" id="response-screen">
        <div class="response-content">
            <div class="response-emoji" id="response-emoji"></div>
            <h2 class="response-title" id="response-title"></h2>
            <p class="response-message" id="response-message"></p>
            <button class="proceed-btn" onclick="showMainSite()" aria-label="Proceed to main celebration">
                Let's Party! üéâ‚ú®
            </button>
        </div>
        <!-- MASSIVE Confetti for Response Screen -->
        <div class="party-confetti" id="party-confetti"></div>
    </div>

    <!-- Main Website -->
    <div class="main-container" id="main-screen">
        <!-- Continuous Confetti -->
        <div class="continuous-confetti" id="continuous-confetti"></div>
        
        <!-- PERMANENT Coded Heart Animation - Top Left -->
        <div class="coded-heart-animation" id="coded-heart">
            <!-- Content will be injected by coded-animations.js -->
        </div>
        
        <!-- PERMANENT Coded Butterfly Animation - Right Middle -->
        <div class="coded-butterfly-animation" id="coded-butterfly">
            <!-- Content will be injected by coded-animations.js -->
        </div>

        <!-- Navigation -->
        <nav class="navbar">
            <div class="nav-brand">UDITA'S BIRTHDAY üéÇ</div>
        </nav>

        <div class="main-content">
            <!-- Hero Section -->
            <div class="hero-section scroll-animate">
                <h1 class="hero-greeting">Happy Birthday Cutuee!</h1>
                <h2 class="hero-title">Step into the future.</h2>
                <div class="hero-subtitle">
                    <span>2024</span>
                    <span style="opacity: 0.6;">|</span>
                    <span>BIRTHDAY SPECIAL</span>
                </div>
                <div class="hero-brand">UDITA</div>
                
                <div class="social-links">
                    <div class="social-link" onclick="handleCakeClick(event)" aria-label="Cake effect">üéÇ</div>
                    <div class="social-link" onclick="handleConfettiClick(event)" aria-label="Confetti effect">üéâ</div>
                    <div class="social-link" onclick="handleStarClick(event)" aria-label="Star effect">‚ú®</div>
                </div>
                
                <p class="hero-description">
                    This project is a personal web birthday message created with tons of love
                    for the most amazing person I know. It represents pure joy,
                    celebration, and all the wonderful memories we've shared together.
                    Get ready for the most epic birthday celebration ever! üéà
                </p>
            </div>

            <!-- Birthday Stats -->
            <div class="birthday-stats scroll-animate">
                <div class="stat" onclick="wiggleStat(this)" tabindex="0" role="button" aria-label="Infinite wishes stat">
                    <div class="stat-number">‚àû</div>
                    <div class="stat-label">WISHES FOR YOU</div>
                </div>
                <div class="stat" onclick="wiggleStat(this)" tabindex="0" role="button" aria-label="24/7 happiness stat">
                    <div class="stat-number">24/7</div>
                    <div class="stat-label">HAPPINESS MODE</div>
                </div>
                <div class="stat" onclick="wiggleStat(this)" tabindex="0" role="button" aria-label="100% awesome stat">
                    <div class="stat-number">100%</div>
                    <div class="stat-label">PURE AWESOME</div>
                </div>
                <div class="stat" onclick="wiggleStat(this)" tabindex="0" role="button" aria-label="More amazing years stat">
                    <div class="stat-number">MORE</div>
                    <div class="stat-label">AMAZING YEARS</div>
                </div>
            </div>

            <!-- Birthday Message -->
            <div class="birthday-message scroll-animate">
                <h2>üéä The Most Epic Birthday Celebration! üéä</h2>
                <p>
                    Another year of being absolutely incredible! üåü You've grown, laughed, 
                    conquered challenges, and made everyone around you smile brighter. 
                    Today we celebrate not just your birthday, but the amazing person you are 
                    and all the joy you bring to this world. Here's to more adventures, 
                    more laughter, and more unforgettable moments! ü•≥‚ú®
                </p>
            </div>

            <!-- Song Dedication Section -->
            <div class="song-dedication scroll-animate" onclick="openSongPopup()" tabindex="0" role="button" aria-label="Open song dedication">
                <div class="song-card">
                    <div class="album-cover">
                        <img src="assets/cover.jpg" alt="At My Worst Album Cover" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" />
                        <div class="album-placeholder" style="display: none;">
                            <div class="placeholder-icon">üéµ</div>
                            <span>Album Cover</span>
                        </div>
                        <div class="play-overlay">
                            <div class="play-button">
                                <div class="play-icon">‚ñ∂</div>
                            </div>
                        </div>
                    </div>
                    <div class="song-info">
                        <h3 class="song-title">A Song Just For You</h3>
                        <p class="song-artist">At My Worst - Pink Sweat$</p>
                        <p class="song-description">
                            This song perfectly captures how I feel about you... 
                            Click to listen and read my message üíï
                        </p>
                        <div class="dedication-note">
                            <span>üéµ Personal Dedication üéµ</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Picture Slideshow Section -->
            <div class="picture-slideshow scroll-animate">
                <h2 class="slideshow-title">üì∏ A Little Story About You üì∏</h2>
                <div class="slideshow-container">
                    <div class="slideshow-wrapper">
                        <!-- Slide 1 -->
                        <div class="slide active" data-slide="1">
                            <div class="slide-content">
                                <div class="picture-frame">
                                    <img src="assets/picture1.jpg" alt="The pretty girl" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" />
                                    <div class="picture-placeholder" style="display: none;">
                                        <div class="placeholder-icon">üì∑</div>
                                        <span>Picture 1</span>
                                    </div>
                                </div>
                                <div class="slide-caption">
                                    <h3>The Pretty Girl</h3>
                                </div>
                            </div>
                        </div>

                        <!-- Transition Text 1 -->
                        <div class="slide transition-slide" data-slide="2">
                            <div class="slide-content">
                                <div class="transition-text">
                                    <h3>who is also...</h3>
                                </div>
                            </div>
                        </div>

                        <!-- Slide 2 -->
                        <div class="slide" data-slide="3">
                            <div class="slide-content">
                                <div class="picture-frame">
                                    <img src="assets/picture2.jpg" alt="A little dumb" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" />
                                    <div class="picture-placeholder" style="display: none;">
                                        <div class="placeholder-icon">üì∑</div>
                                        <span>Picture 2</span>
                                    </div>
                                </div>
                                <div class="slide-caption">
                                    <h3>A Little Dumb</h3>
                                </div>
                            </div>
                        </div>

                        <!-- Transition Text 2 -->
                        <div class="slide transition-slide" data-slide="4">
                            <div class="slide-content">
                                <div class="transition-text">
                                    <h3>but...</h3>
                                </div>
                            </div>
                        </div>

                        <!-- Slide 3 -->
                        <div class="slide" data-slide="5">
                            <div class="slide-content">
                                <div class="picture-frame">
                                    <img src="assets/picture3.jpg" alt="The cutest" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" />
                                    <div class="picture-placeholder" style="display: none;">
                                        <div class="placeholder-icon">üì∑</div>
                                        <span>Picture 3</span>
                                    </div>
                                </div>
                                <div class="slide-caption">
                                    <h3>The Cutest</h3>
                                </div>
                            </div>
                        </div>

                        <!-- Transition Text 3 -->
                        <div class="slide transition-slide" data-slide="6">
                            <div class="slide-content">
                                <div class="transition-text">
                                    <h3>also...</h3>
                                </div>
                            </div>
                        </div>

                        <!-- Slide 4 -->
                        <div class="slide" data-slide="7">
                            <div class="slide-content">
                                <div class="picture-frame">
                                    <img src="assets/picture4.jpg" alt="The most awesome person" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" />
                                    <div class="picture-placeholder" style="display: none;">
                                        <div class="placeholder-icon">üì∑</div>
                                        <span>Picture 4</span>
                                    </div>
                                </div>
                                <div class="slide-caption">
                                    <h3>The Most Awesome Person</h3>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Slideshow Controls -->
                    <div class="slideshow-controls">
                        <button class="slide-btn prev-btn" onclick="changeSlide(-1)" aria-label="Previous slide">‚ùÆ</button>
                        <div class="slide-indicators">
                            <span class="indicator active" onclick="currentSlide(1)" aria-label="Slide 1"></span>
                            <span class="indicator" onclick="currentSlide(2)" aria-label="Slide 2"></span>
                            <span class="indicator" onclick="currentSlide(3)" aria-label="Slide 3"></span>
                            <span class="indicator" onclick="currentSlide(4)" aria-label="Slide 4"></span>
                            <span class="indicator" onclick="currentSlide(5)" aria-label="Slide 5"></span>
                            <span class="indicator" onclick="currentSlide(6)" aria-label="Slide 6"></span>
                            <span class="indicator" onclick="currentSlide(7)" aria-label="Slide 7"></span>
                        </div>
                        <button class="slide-btn next-btn" onclick="changeSlide(1)" aria-label="Next slide">‚ùØ</button>
                    </div>

                    <!-- Auto-play Toggle -->
                    <div class="slideshow-options">
                        <button class="auto-play-btn" onclick="toggleAutoPlay()" aria-label="Toggle slideshow autoplay">
                            <span id="auto-play-icon">‚ñ∂</span> Auto-Play
                        </button>
                    </div>
                </div>
            </div>

            <!-- Wishes Grid -->
            <div class="wishes-grid scroll-animate">
                <div class="wish-card" onclick="createClickEffect(event)" tabindex="0" role="button">
                    <div class="emoji">üéÇ</div>
                    <h3>Sweet Dreams Come True</h3>
                    <p>May your birthday cake be as sweet as your heart and may all your wishes come true in the most magical way possible!</p>
                </div>
                
                <div class="wish-card" onclick="createClickEffect(event)" tabindex="0" role="button">
                    <div class="emoji">üåü</div>
                    <h3>Shine Brighter</h3>
                    <p>May you continue to shine brighter than all the stars combined and light up every room you enter!</p>
                </div>
                
                <div class="wish-card" onclick="createClickEffect(event)" tabindex="0" role="button">
                    <div class="emoji">üéà</div>
                    <h3>Endless Joy</h3>
                    <p>May your days be filled with laughter that echoes through the halls and joy that never fades away!</p>
                </div>
                
                <div class="wish-card" onclick="createClickEffect(event)" tabindex="0" role="button">
                    <div class="emoji">ü¶Ñ</div>
                    <h3>Magical Adventures</h3>
                    <p>May this new year bring you magical adventures, unicorn-level happiness, and dreams that come true!</p>
                </div>
                
                <div class="wish-card" onclick="createClickEffect(event)" tabindex="0" role="button">
                    <div class="emoji">üíñ</div>
                    <h3>Love & Friendship</h3>
                    <p>May you be surrounded by people who love you as much as you deserve - which is infinitely!</p>
                </div>
                
                <div class="wish-card" onclick="createClickEffect(event)" tabindex="0" role="button">
                    <div class="emoji">üé™</div>
                    <h3>Life's Greatest Show</h3>
                    <p>May your life be the greatest show on earth, filled with wonder, excitement, and standing ovations!</p>
                </div>
            </div>
            
            <div style="margin-top: 80px; text-align: center; font-size: 16px; opacity: 0.8;" class="scroll-animate">
                <p>üé® Concept, design and development done with ‚ù§Ô∏è by your favorite person</p>
                <p style="margin-top: 20px; font-family: 'Dancing Script', cursive; font-size: 24px;">
                    "Because you deserve all the magic in the world!" ‚ú®
                </p>
            </div>
        </div>
    </div>

    <!-- Song Popup -->
    <div id="song-popup" class="song-popup hidden">
        <div class="popup-content">
            <button class="close-popup" onclick="closeSongPopup()" aria-label="Close song popup">√ó</button>
            <div class="popup-header">
                <div class="popup-album-cover-container">
                    <img src="assets/cover.jpg" alt="Album Cover" class="popup-album-cover" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" />
                    <div class="album-placeholder" style="display: none;">
                        <div class="placeholder-icon">üéµ</div>
                        <span>Album Cover</span>
                    </div>
                </div>
                <div class="song-details">
                    <h3>At My Worst</h3>
                    <p>Pink Sweat$</p>
                </div>
            </div>
            
            <div class="music-visualizer" id="music-visualizer">
                <div class="bar bar1"></div>
                <div class="bar bar2"></div>
                <div class="bar bar3"></div>
                <div class="bar bar4"></div>
                <div class="bar bar5"></div>
                <div class="bar bar6"></div>
                <div class="bar bar7"></div>
                <div class="bar bar8"></div>
            </div>
            
            <div class="sweet-message">
                <h4>üíï My Message to You üíï</h4>
                <p>
                    "At my worst, you still see the best in me. At my lowest, you lift me up. 
                    At my darkest, you are my light. This song reminds me of how lucky I am 
                    to have someone like you in my life. You make every day brighter, every 
                    moment sweeter, and every challenge easier to face. Happy Birthday to the 
                    most amazing person I know! üåüüíñ"
                </p>
                <div class="message-signature">
                    <span>With all my love,</span>
                    <span class="signature">Your Favorite Person üíï</span>
                </div>
            </div>
            
            <div class="music-controls">
                <button id="play-pause-btn" class="control-btn" onclick="toggleSong()" aria-label="Play or pause song">
                    <span id="play-pause-icon">‚ñ∂</span>
                </button>
                <div class="progress-container">
                    <div class="progress-bar" onclick="seekSong(event)" aria-label="Song progress bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <div class="time-display">
                        <span id="current-time">0:00</span>
                        <span id="total-time">0:00</span>
                    </div>
                </div>
                <button id="volume-btn" class="control-btn" onclick="toggleMute()" aria-label="Toggle volume">
                    <span id="volume-icon">üîä</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Confetti Container -->
    <div id="confetti-container"></div>

    <!-- Single Click Emoji Container -->
    <div id="single-click-emoji-container"></div>

    <!-- Debug CSS Loading -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            console.log('üîç Debugging CSS loading...');
            
            const cssLinks = document.querySelectorAll('link[rel="stylesheet"]');
            cssLinks.forEach((link, index) => {
                console.log(`CSS ${index + 1}: ${link.href}`);
                
                link.addEventListener('load', () => {
                    console.log(`‚úÖ CSS ${index + 1} loaded successfully`);
                });
                
                link.addEventListener('error', () => {
                    console.error(`‚ùå CSS ${index + 1} failed to load: ${link.href}`);
                });
            });
            
            setTimeout(() => {
                const body = document.body;
                const computedStyle = window.getComputedStyle(body);
                console.log('Body background:', computedStyle.backgroundColor);
                console.log('Body font-family:', computedStyle.fontFamily);
                
                if (computedStyle.fontFamily.includes('Poppins')) {
                    console.log('‚úÖ CSS is working - custom fonts loaded');
                } else {
                    console.error('‚ùå CSS not working - using default fonts');
                }
            }, 2000);
        });
    </script>

    <!-- PERMANENT CODED ANIMATIONS SCRIPT - LOAD FIRST -->
    <script src="js/coded-animations.js"></script>
    <script src="js/heart-trail.js"></script>
    <script src="js/animations.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
